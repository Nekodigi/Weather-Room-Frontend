import { useEffect, useRef, useState } from "react";
import {
  DateValue,
  DateValueXY,
  MetricsType,
  WeatherData,
  WeatherGraph,
} from "../../types/weather";
import { HeaderView } from "./headerView";

import React from "react";
import { GraphView } from "./graphView";
import { Box, Container } from "@mui/material";
import { GraphSelector } from "./graphSelector";

const graphDemo = {
  "temperature": [
  {
  "date": "2022-12-26T15:07:34.054261Z",
  "value": 16.108537685894408
  },
  {
  "date": "2022-12-26T15:17:38.38878Z",
  "value": 15.22030942501151
  },
  {
  "date": "2022-12-26T15:27:42.632598Z",
  "value": 14.7127544205694
  },
  {
  "date": "2022-12-26T15:37:47.849345Z",
  "value": 14.479280095832655
  },
  {
  "date": "2022-12-26T15:47:52.070531Z",
  "value": 14.118918759957888
  },
  {
  "date": "2022-12-26T15:57:56.161944Z",
  "value": 13.920974425092572
  },
  {
  "date": "2022-12-26T16:08:00.398463Z",
  "value": 13.74840793023468
  },
  {
  "date": "2022-12-26T16:18:04.646463Z",
  "value": 13.514936149172717
  },
  {
  "date": "2022-12-26T16:28:08.770861Z",
  "value": 13.55553989294567
  },
  {
  "date": "2022-12-26T16:38:13.067749Z",
  "value": 13.454030568437883
  },
  {
  "date": "2022-12-26T16:48:17.200457Z",
  "value": 13.251012268668273
  },
  {
  "date": "2022-12-26T16:58:21.451563Z",
  "value": 13.185031421505846
  },
  {
  "date": "2022-12-26T17:08:25.578243Z",
  "value": 13.06322075596545
  },
  {
  "date": "2022-12-26T17:18:29.711663Z",
  "value": 12.987089175131405
  },
  {
  "date": "2022-12-26T17:28:33.764916Z",
  "value": 12.875429641694064
  },
  {
  "date": "2022-12-26T17:38:37.959056Z",
  "value": 12.814524501009146
  },
  {
  "date": "2022-12-26T17:48:42.330195Z",
  "value": 12.794222796760732
  },
  {
  "date": "2022-12-26T17:58:47.066362Z",
  "value": 12.687638925854117
  },
  {
  "date": "2022-12-26T18:08:51.456891Z",
  "value": 12.575979770184494
  },
  {
  "date": "2022-12-26T18:18:55.810968Z",
  "value": 12.428792916570092
  },
  {
  "date": "2022-12-26T18:29:00.184987Z",
  "value": 12.276530911779265
  },
  {
  "date": "2022-12-26T18:39:04.350544Z",
  "value": 12.28668170394958
  },
  {
  "date": "2022-12-26T18:49:08.594534Z",
  "value": 12.159796885494142
  },
  {
  "date": "2022-12-26T18:59:12.742438Z",
  "value": 12.002459963230649
  },
  {
  "date": "2022-12-26T19:09:16.969002Z",
  "value": 11.992309203656623
  },
  {
  "date": "2022-12-26T19:19:21.311554Z",
  "value": 11.992309203656623
  },
  {
  "date": "2022-12-26T19:29:25.554116Z",
  "value": 11.921253919234733
  },
  {
  "date": "2022-12-26T19:39:29.659051Z",
  "value": 11.870500179572264
  },
  {
  "date": "2022-12-26T19:49:33.877209Z",
  "value": 11.900952419877285
  },
  {
  "date": "2022-12-26T19:59:38.050747Z",
  "value": 11.779143521521473
  },
  {
  "date": "2022-12-26T20:09:42.327414Z",
  "value": 11.774068154394627
  },
  {
  "date": "2022-12-26T20:19:52.85614Z",
  "value": 11.72838986334973
  },
  {
  "date": "2022-12-26T20:29:57.204315Z",
  "value": 11.687786957767093
  },
  {
  "date": "2022-12-26T20:40:01.2933Z",
  "value": 11.626882634317734
  },
  {
  "date": "2022-12-26T20:50:05.466492Z",
  "value": 11.550752288941293
  },
  {
  "date": "2022-12-26T21:00:09.667854Z",
  "value": 11.515224816842238
  },
  {
  "date": "2022-12-26T21:10:13.957301Z",
  "value": 11.494923410617048
  },
  {
  "date": "2022-12-26T21:20:18.187945Z",
  "value": 11.47462200904847
  },
  {
  "date": "2022-12-26T21:30:22.347503Z",
  "value": 11.32236164571368
  },
  {
  "date": "2022-12-26T21:40:26.497795Z",
  "value": 11.261457573721419
  },
  {
  "date": "2022-12-26T21:50:30.837035Z",
  "value": 11.093971591838635
  },
  {
  "date": "2022-12-26T22:00:35.134663Z",
  "value": 11.210704212408746
  },
  {
  "date": "2022-12-26T22:10:39.370658Z",
  "value": 11.129498894844437
  },
  {
  "date": "2022-12-26T22:20:44.015655Z",
  "value": 11.048293651785935
  },
  {
  "date": "2022-12-26T22:30:49.407568Z",
  "value": 10.94171188334003
  },
  {
  "date": "2022-12-26T22:40:53.640793Z",
  "value": 10.972163804084994
  },
  {
  "date": "2022-12-26T22:50:58.084704Z",
  "value": 11.02799235266284
  },
  {
  "date": "2022-12-26T23:01:08.049774Z",
  "value": 10.855431498127292
  },
  {
  "date": "2022-12-26T23:11:12.486873Z",
  "value": 10.99754041270935
  },
  {
  "date": "2022-12-26T23:21:17.225953Z",
  "value": 10.936636564234504
  },
  {
  "date": "2022-12-26T23:31:21.620071Z",
  "value": 11.063519629184157
  },
  {
  "date": "2022-12-26T23:41:26.020172Z",
  "value": 11.043218326568603
  },
  {
  "date": "2022-12-26T23:51:30.339482Z",
  "value": 10.931561245420017
  },
  {
  "date": "2022-12-27T00:01:35.203602Z",
  "value": 11.261457573721419
  },
  {
  "date": "2022-12-27T00:11:39.719431Z",
  "value": 11.565978352777893
  },
  {
  "date": "2022-12-27T00:21:44.558564Z",
  "value": 13.02769267676049
  },
  {
  "date": "2022-12-27T00:31:50.250627Z",
  "value": 14.991909312852659
  },
  {
  "date": "2022-12-27T00:41:54.763302Z",
  "value": 15.8496816724597
  },
  {
  "date": "2022-12-27T00:51:59.158528Z",
  "value": 16.44352894462645
  },
  {
  "date": "2022-12-27T01:02:03.971169Z",
  "value": 17.42313186922693
  },
  {
  "date": "2022-12-27T01:12:08.26483Z",
  "value": 17.864718079566956
  },
  {
  "date": "2022-12-27T01:22:12.80818Z",
  "value": 17.727673847513508
  },
  {
  "date": "2022-12-27T01:32:17.285679Z",
  "value": 17.022153195762076
  },
  {
  "date": "2022-12-27T01:42:22.290443Z",
  "value": 17.108439592370996
  },
  {
  "date": "2022-12-27T01:52:26.834343Z",
  "value": 17.433283251622925
  },
  {
  "date": "2022-12-27T02:02:31.271488Z",
  "value": 17.5246457455738
  },
  {
  "date": "2022-12-27T02:12:35.744361Z",
  "value": 17.77843094575801
  },
  {
  "date": "2022-12-27T02:22:40.124076Z",
  "value": 18.03729259951506
  },
  {
  "date": "2022-12-27T02:32:44.480831Z",
  "value": 18.19464024915942
  },
  {
  "date": "2022-12-27T02:42:50.424734Z",
  "value": 18.09820133394096
  },
  {
  "date": "2022-12-27T02:52:54.913936Z",
  "value": 17.829188073106344
  },
  {
  "date": "2022-12-27T03:02:59.457223Z",
  "value": 17.75812810296775
  },
  {
  "date": "2022-12-27T03:13:03.775067Z",
  "value": 18.118504254729487
  },
  {
  "date": "2022-12-27T03:23:08.055013Z",
  "value": 17.732749556028285
  },
  {
  "date": "2022-12-27T03:33:12.435975Z",
  "value": 18.133731448376786
  },
  {
  "date": "2022-12-27T03:43:17.030478Z",
  "value": 18.336760947300355
  },
  {
  "date": "2022-12-27T03:53:21.459303Z",
  "value": 18.46365462059621
  },
  {
  "date": "2022-12-27T04:03:26.040994Z",
  "value": 17.646462550858267
  },
  {
  "date": "2022-12-27T04:13:30.420936Z",
  "value": 17.128742286149645
  },
  {
  "date": "2022-12-27T04:23:34.89986Z",
  "value": 17.1135152653791
  },
  {
  "date": "2022-12-27T04:33:39.214997Z",
  "value": 17.707371016364778
  },
  {
  "date": "2022-12-27T04:43:43.695907Z",
  "value": 18.09820133394096
  },
  {
  "date": "2022-12-27T04:53:49.302123Z",
  "value": 18.36213966740761
  },
  {
  "date": "2022-12-27T05:03:53.649266Z",
  "value": 18.15403437731438
  },
  {
  "date": "2022-12-27T05:13:58.024375Z",
  "value": 18.63115454787039
  },
  {
  "date": "2022-12-27T05:24:02.356742Z",
  "value": 18.956003795057768
  },
  {
  "date": "2022-12-27T05:34:06.697997Z",
  "value": 19.077822570089484
  },
  {
  "date": "2022-12-27T05:44:13.180313Z",
  "value": 19.433128288114677
  },
  {
  "date": "2022-12-27T05:54:17.469975Z",
  "value": 19.169186761375748
  },
  {
  "date": "2022-12-27T06:04:21.906569Z",
  "value": 18.722518278151984
  },
  {
  "date": "2022-12-27T06:14:26.262319Z",
  "value": 18.31645797645324
  },
  {
  "date": "2022-12-27T06:24:30.566401Z",
  "value": 17.80888521867455
  },
  {
  "date": "2022-12-27T06:34:35.257051Z",
  "value": 17.859642363485182
  },
  {
  "date": "2022-12-27T06:44:39.937226Z",
  "value": 18.539790911885213
  },
  {
  "date": "2022-12-27T06:54:44.343805Z",
  "value": 18.834185187664115
  },
  {
  "date": "2022-12-27T07:04:50.141033Z",
  "value": 18.646381829702296
  },
  {
  "date": "2022-12-27T07:14:54.467876Z",
  "value": 18.671760638576234
  },
  {
  "date": "2022-12-27T07:24:58.877637Z",
  "value": 18.63115454787039
  },
  {
  "date": "2022-12-27T07:35:03.12567Z",
  "value": 17.910399537399645
  },
  {
  "date": "2022-12-27T07:45:07.426998Z",
  "value": 17.48911587561015
  },
  {
  "date": "2022-12-27T07:55:11.693898Z",
  "value": 17.362223599298158
  },
  {
  "date": "2022-12-27T08:05:16.102232Z",
  "value": 18.387518394790824
  },
  {
  "date": "2022-12-27T08:15:20.448594Z",
  "value": 17.869793795939767
  },
  {
  "date": "2022-12-27T08:25:24.893357Z",
  "value": 17.747976683318846
  },
  {
  "date": "2022-12-27T08:35:29.172011Z",
  "value": 17.47896448681131
  },
  {
  "date": "2022-12-27T08:45:33.42442Z",
  "value": 18.275852048728847
  },
  {
  "date": "2022-12-27T08:55:37.98911Z",
  "value": 18.453503120038658
  },
  {
  "date": "2022-12-27T09:05:42.201735Z",
  "value": 18.63115454787039
  },
  {
  "date": "2022-12-27T09:15:47.306558Z",
  "value": 18.651457590895006
  }
  ],
  "humidity": [
  {
  "date": "2022-12-26T15:07:34.054261Z",
  "value": 55.36724851287624
  },
  {
  "date": "2022-12-26T15:17:38.38878Z",
  "value": 57.985271174465176
  },
  {
  "date": "2022-12-26T15:27:42.632598Z",
  "value": 59.48975816929991
  },
  {
  "date": "2022-12-26T15:37:47.849345Z",
  "value": 60.34985171205345
  },
  {
  "date": "2022-12-26T15:47:52.070531Z",
  "value": 61.4233680631006
  },
  {
  "date": "2022-12-26T15:57:56.161944Z",
  "value": 62.2775045888733
  },
  {
  "date": "2022-12-26T16:08:00.398463Z",
  "value": 62.483533265099155
  },
  {
  "date": "2022-12-26T16:18:04.646463Z",
  "value": 63.01247475541232
  },
  {
  "date": "2022-12-26T16:28:08.770861Z",
  "value": 63.57888848882548
  },
  {
  "date": "2022-12-26T16:38:13.067749Z",
  "value": 63.957159831635
  },
  {
  "date": "2022-12-26T16:48:17.200457Z",
  "value": 64.41293409592721
  },
  {
  "date": "2022-12-26T16:58:21.451563Z",
  "value": 64.68241379474476
  },
  {
  "date": "2022-12-26T17:08:25.578243Z",
  "value": 64.97969181044472
  },
  {
  "date": "2022-12-26T17:18:29.711663Z",
  "value": 65.17985428942703
  },
  {
  "date": "2022-12-26T17:28:33.764916Z",
  "value": 65.56687575532716
  },
  {
  "date": "2022-12-26T17:38:37.959056Z",
  "value": 65.83092561229026
  },
  {
  "date": "2022-12-26T17:48:42.330195Z",
  "value": 65.85583463488578
  },
  {
  "date": "2022-12-26T17:58:47.066362Z",
  "value": 66.37940337231092
  },
  {
  "date": "2022-12-26T18:08:51.456891Z",
  "value": 66.64486477761078
  },
  {
  "date": "2022-12-26T18:18:55.810968Z",
  "value": 66.62408170081405
  },
  {
  "date": "2022-12-26T18:29:00.184987Z",
  "value": 66.56619406866271
  },
  {
  "date": "2022-12-26T18:39:04.350544Z",
  "value": 67.37005142790252
  },
  {
  "date": "2022-12-26T18:49:08.594534Z",
  "value": 67.41343171284669
  },
  {
  "date": "2022-12-26T18:59:12.742438Z",
  "value": 67.4650734072173
  },
  {
  "date": "2022-12-26T19:09:16.969002Z",
  "value": 67.64791277434269
  },
  {
  "date": "2022-12-26T19:19:21.311554Z",
  "value": 68.09368438338751
  },
  {
  "date": "2022-12-26T19:29:25.554116Z",
  "value": 68.20381314729748
  },
  {
  "date": "2022-12-26T19:39:29.659051Z",
  "value": 68.10570643629306
  },
  {
  "date": "2022-12-26T19:49:33.877209Z",
  "value": 68.29668446624969
  },
  {
  "date": "2022-12-26T19:59:38.050747Z",
  "value": 68.30339718408148
  },
  {
  "date": "2022-12-26T20:09:42.327414Z",
  "value": 68.10909662936548
  },
  {
  "date": "2022-12-26T20:19:52.85614Z",
  "value": 68.33632264426475
  },
  {
  "date": "2022-12-26T20:29:57.204315Z",
  "value": 68.93061561811334
  },
  {
  "date": "2022-12-26T20:40:01.2933Z",
  "value": 68.93125399274862
  },
  {
  "date": "2022-12-26T20:50:05.466492Z",
  "value": 69.11927902977456
  },
  {
  "date": "2022-12-26T21:00:09.667854Z",
  "value": 68.98042192448766
  },
  {
  "date": "2022-12-26T21:10:13.957301Z",
  "value": 69.07314258417449
  },
  {
  "date": "2022-12-26T21:20:18.187945Z",
  "value": 69.24439220646691
  },
  {
  "date": "2022-12-26T21:30:22.347503Z",
  "value": 69.57296529402485
  },
  {
  "date": "2022-12-26T21:40:26.497795Z",
  "value": 69.63105780504618
  },
  {
  "date": "2022-12-26T21:50:30.837035Z",
  "value": 68.80722651119693
  },
  {
  "date": "2022-12-26T22:00:35.134663Z",
  "value": 69.65852441859934
  },
  {
  "date": "2022-12-26T22:10:39.370658Z",
  "value": 69.46390707458619
  },
  {
  "date": "2022-12-26T22:20:44.015655Z",
  "value": 69.38442185321087
  },
  {
  "date": "2022-12-26T22:30:49.407568Z",
  "value": 69.26117564920109
  },
  {
  "date": "2022-12-26T22:40:53.640793Z",
  "value": 69.83874730527063
  },
  {
  "date": "2022-12-26T22:50:58.084704Z",
  "value": 70.73202231148795
  },
  {
  "date": "2022-12-26T23:01:08.049774Z",
  "value": 72.03495467955354
  },
  {
  "date": "2022-12-26T23:11:12.486873Z",
  "value": 73.15445162598022
  },
  {
  "date": "2022-12-26T23:21:17.225953Z",
  "value": 72.57461871619077
  },
  {
  "date": "2022-12-26T23:31:21.620071Z",
  "value": 72.48601550219645
  },
  {
  "date": "2022-12-26T23:41:26.020172Z",
  "value": 72.52089013915518
  },
  {
  "date": "2022-12-26T23:51:30.339482Z",
  "value": 74.29251905381298
  },
  {
  "date": "2022-12-27T00:01:35.203602Z",
  "value": 77.22047427292885
  },
  {
  "date": "2022-12-27T00:11:39.719431Z",
  "value": 78.48205962641963
  },
  {
  "date": "2022-12-27T00:21:44.558564Z",
  "value": 76.3542772896497
  },
  {
  "date": "2022-12-27T00:31:50.250627Z",
  "value": 65.62898386355046
  },
  {
  "date": "2022-12-27T00:41:54.763302Z",
  "value": 62.09409827431102
  },
  {
  "date": "2022-12-27T00:51:59.158528Z",
  "value": 59.5958310112482
  },
  {
  "date": "2022-12-27T01:02:03.971169Z",
  "value": 56.85065122131415
  },
  {
  "date": "2022-12-27T01:12:08.26483Z",
  "value": 55.083591572339714
  },
  {
  "date": "2022-12-27T01:22:12.80818Z",
  "value": 54.22445524092755
  },
  {
  "date": "2022-12-27T01:32:17.285679Z",
  "value": 55.46968755243136
  },
  {
  "date": "2022-12-27T01:42:22.290443Z",
  "value": 55.3295253451435
  },
  {
  "date": "2022-12-27T01:52:26.834343Z",
  "value": 54.586153055556125
  },
  {
  "date": "2022-12-27T02:02:31.271488Z",
  "value": 54.29651909213918
  },
  {
  "date": "2022-12-27T02:12:35.744361Z",
  "value": 53.83689534082692
  },
  {
  "date": "2022-12-27T02:22:40.124076Z",
  "value": 53.350128404318
  },
  {
  "date": "2022-12-27T02:32:44.480831Z",
  "value": 53.078117664421754
  },
  {
  "date": "2022-12-27T02:42:50.424734Z",
  "value": 52.919717051208764
  },
  {
  "date": "2022-12-27T02:52:54.913936Z",
  "value": 53.48122613868121
  },
  {
  "date": "2022-12-27T03:02:59.457223Z",
  "value": 53.697377208673686
  },
  {
  "date": "2022-12-27T03:13:03.775067Z",
  "value": 53.38517039832911
  },
  {
  "date": "2022-12-27T03:23:08.055013Z",
  "value": 53.963213673542526
  },
  {
  "date": "2022-12-27T03:33:12.435975Z",
  "value": 53.31095101009451
  },
  {
  "date": "2022-12-27T03:43:17.030478Z",
  "value": 52.99240138423624
  },
  {
  "date": "2022-12-27T03:53:21.459303Z",
  "value": 53.029034736693156
  },
  {
  "date": "2022-12-27T04:03:26.040994Z",
  "value": 54.706668584497734
  },
  {
  "date": "2022-12-27T04:13:30.420936Z",
  "value": 56.94383536241724
  },
  {
  "date": "2022-12-27T04:23:34.89986Z",
  "value": 56.99637791999472
  },
  {
  "date": "2022-12-27T04:33:39.214997Z",
  "value": 54.805127072625886
  },
  {
  "date": "2022-12-27T04:43:43.695907Z",
  "value": 53.99858624425637
  },
  {
  "date": "2022-12-27T04:53:49.302123Z",
  "value": 53.88578986075195
  },
  {
  "date": "2022-12-27T05:03:53.649266Z",
  "value": 54.36387747505455
  },
  {
  "date": "2022-12-27T05:13:58.024375Z",
  "value": 53.52703982225756
  },
  {
  "date": "2022-12-27T05:24:02.356742Z",
  "value": 52.92359510729854
  },
  {
  "date": "2022-12-27T05:34:06.697997Z",
  "value": 52.69234667522145
  },
  {
  "date": "2022-12-27T05:44:13.180313Z",
  "value": 51.83120795824047
  },
  {
  "date": "2022-12-27T05:54:17.469975Z",
  "value": 52.69018007157104
  },
  {
  "date": "2022-12-27T06:04:21.906569Z",
  "value": 54.45021969291397
  },
  {
  "date": "2022-12-27T06:14:26.262319Z",
  "value": 55.0058826668562
  },
  {
  "date": "2022-12-27T06:24:30.566401Z",
  "value": 56.366767544133594
  },
  {
  "date": "2022-12-27T06:34:35.257051Z",
  "value": 55.9956284326566
  },
  {
  "date": "2022-12-27T06:44:39.937226Z",
  "value": 54.4484226153199
  },
  {
  "date": "2022-12-27T06:54:44.343805Z",
  "value": 54.06947852544001
  },
  {
  "date": "2022-12-27T07:04:50.141033Z",
  "value": 54.12646842248769
  },
  {
  "date": "2022-12-27T07:14:54.467876Z",
  "value": 53.8280051963233
  },
  {
  "date": "2022-12-27T07:24:58.877637Z",
  "value": 53.32383637845947
  },
  {
  "date": "2022-12-27T07:35:03.12567Z",
  "value": 54.63186045313528
  },
  {
  "date": "2022-12-27T07:45:07.426998Z",
  "value": 55.45734989678679
  },
  {
  "date": "2022-12-27T07:55:11.693898Z",
  "value": 55.72379032324669
  },
  {
  "date": "2022-12-27T08:05:16.102232Z",
  "value": 53.988282867012366
  },
  {
  "date": "2022-12-27T08:15:20.448594Z",
  "value": 54.52351430413361
  },
  {
  "date": "2022-12-27T08:25:24.893357Z",
  "value": 54.91345389867661
  },
  {
  "date": "2022-12-27T08:35:29.172011Z",
  "value": 55.71276796535643
  },
  {
  "date": "2022-12-27T08:45:33.42442Z",
  "value": 54.085520521519726
  },
  {
  "date": "2022-12-27T08:55:37.98911Z",
  "value": 53.96942249098886
  },
  {
  "date": "2022-12-27T09:05:42.201735Z",
  "value": 53.70884310031726
  },
  {
  "date": "2022-12-27T09:15:47.306558Z",
  "value": 53.70425546209187
  }
  ],
  "atmosphere": [
  {
  "date": "2022-12-26T15:07:34.054261Z",
  "value": 1024.7608603957287
  },
  {
  "date": "2022-12-26T15:17:38.38878Z",
  "value": 1024.7914508901229
  },
  {
  "date": "2022-12-26T15:27:42.632598Z",
  "value": 1024.8188428767269
  },
  {
  "date": "2022-12-26T15:37:47.849345Z",
  "value": 1024.8795688234513
  },
  {
  "date": "2022-12-26T15:47:52.070531Z",
  "value": 1024.9131292001334
  },
  {
  "date": "2022-12-26T15:57:56.161944Z",
  "value": 1024.9796928595317
  },
  {
  "date": "2022-12-26T16:08:00.398463Z",
  "value": 1024.9822725897711
  },
  {
  "date": "2022-12-26T16:18:04.646463Z",
  "value": 1025.1217340448381
  },
  {
  "date": "2022-12-26T16:28:08.770861Z",
  "value": 1025.030400700764
  },
  {
  "date": "2022-12-26T16:38:13.067749Z",
  "value": 1025.0724608408493
  },
  {
  "date": "2022-12-26T16:48:17.200457Z",
  "value": 1024.9436370896015
  },
  {
  "date": "2022-12-26T16:58:21.451563Z",
  "value": 1025.178329071458
  },
  {
  "date": "2022-12-26T17:08:25.578243Z",
  "value": 1025.3721302708834
  },
  {
  "date": "2022-12-26T17:18:29.711663Z",
  "value": 1025.2971155507516
  },
  {
  "date": "2022-12-26T17:28:33.764916Z",
  "value": 1025.3749238902853
  },
  {
  "date": "2022-12-26T17:38:37.959056Z",
  "value": 1025.2723568670401
  },
  {
  "date": "2022-12-26T17:48:42.330195Z",
  "value": 1025.3710578252358
  },
  {
  "date": "2022-12-26T17:58:47.066362Z",
  "value": 1025.590156658177
  },
  {
  "date": "2022-12-26T18:08:51.456891Z",
  "value": 1025.5614627083135
  },
  {
  "date": "2022-12-26T18:18:55.810968Z",
  "value": 1025.605677753144
  },
  {
  "date": "2022-12-26T18:29:00.184987Z",
  "value": 1025.5615596676107
  },
  {
  "date": "2022-12-26T18:39:04.350544Z",
  "value": 1025.6052232646334
  },
  {
  "date": "2022-12-26T18:49:08.594534Z",
  "value": 1025.6834523133587
  },
  {
  "date": "2022-12-26T18:59:12.742438Z",
  "value": 1025.8695102947179
  },
  {
  "date": "2022-12-26T19:09:16.969002Z",
  "value": 1026.011660462284
  },
  {
  "date": "2022-12-26T19:19:21.311554Z",
  "value": 1026.0382048995075
  },
  {
  "date": "2022-12-26T19:29:25.554116Z",
  "value": 1026.0510814999334
  },
  {
  "date": "2022-12-26T19:39:29.659051Z",
  "value": 1026.0981778041212
  },
  {
  "date": "2022-12-26T19:49:33.877209Z",
  "value": 1026.229166209303
  },
  {
  "date": "2022-12-26T19:59:38.050747Z",
  "value": 1026.18290521412
  },
  {
  "date": "2022-12-26T20:09:42.327414Z",
  "value": 1026.1743428922493
  },
  {
  "date": "2022-12-26T20:19:52.85614Z",
  "value": 1026.229950481592
  },
  {
  "date": "2022-12-26T20:29:57.204315Z",
  "value": 1026.2941053405257
  },
  {
  "date": "2022-12-26T20:40:01.2933Z",
  "value": 1026.3505155873481
  },
  {
  "date": "2022-12-26T20:50:05.466492Z",
  "value": 1026.4342545501197
  },
  {
  "date": "2022-12-26T21:00:09.667854Z",
  "value": 1026.4803908592012
  },
  {
  "date": "2022-12-26T21:10:13.957301Z",
  "value": 1026.6052668206453
  },
  {
  "date": "2022-12-26T21:20:18.187945Z",
  "value": 1026.624041248309
  },
  {
  "date": "2022-12-26T21:30:22.347503Z",
  "value": 1026.7912732934385
  },
  {
  "date": "2022-12-26T21:40:26.497795Z",
  "value": 1026.847511040593
  },
  {
  "date": "2022-12-26T21:50:30.837035Z",
  "value": 1026.935761799492
  },
  {
  "date": "2022-12-26T22:00:35.134663Z",
  "value": 1027.0269163010614
  },
  {
  "date": "2022-12-26T22:10:39.370658Z",
  "value": 1027.128322004198
  },
  {
  "date": "2022-12-26T22:20:44.015655Z",
  "value": 1027.282685304316
  },
  {
  "date": "2022-12-26T22:30:49.407568Z",
  "value": 1027.3675875396339
  },
  {
  "date": "2022-12-26T22:40:53.640793Z",
  "value": 1027.3660537444732
  },
  {
  "date": "2022-12-26T22:50:58.084704Z",
  "value": 1027.5664342998236
  },
  {
  "date": "2022-12-26T23:01:08.049774Z",
  "value": 1027.5397287537023
  },
  {
  "date": "2022-12-26T23:11:12.486873Z",
  "value": 1027.647476196424
  },
  {
  "date": "2022-12-26T23:21:17.225953Z",
  "value": 1027.7300221586465
  },
  {
  "date": "2022-12-26T23:31:21.620071Z",
  "value": 1027.6529971302227
  },
  {
  "date": "2022-12-26T23:41:26.020172Z",
  "value": 1027.724700064654
  },
  {
  "date": "2022-12-26T23:51:30.339482Z",
  "value": 1027.7744424518028
  },
  {
  "date": "2022-12-27T00:01:35.203602Z",
  "value": 1027.9611211567303
  },
  {
  "date": "2022-12-27T00:11:39.719431Z",
  "value": 1027.9720057898112
  },
  {
  "date": "2022-12-27T00:21:44.558564Z",
  "value": 1027.9711599483355
  },
  {
  "date": "2022-12-27T00:31:50.250627Z",
  "value": 1028.0351390622318
  },
  {
  "date": "2022-12-27T00:41:54.763302Z",
  "value": 1028.1456483490506
  },
  {
  "date": "2022-12-27T00:51:59.158528Z",
  "value": 1028.0231069077604
  },
  {
  "date": "2022-12-27T01:02:03.971169Z",
  "value": 1028.2264073271378
  },
  {
  "date": "2022-12-27T01:12:08.26483Z",
  "value": 1028.1385448294195
  },
  {
  "date": "2022-12-27T01:22:12.80818Z",
  "value": 1027.9885585926368
  },
  {
  "date": "2022-12-27T01:32:17.285679Z",
  "value": 1027.9267638356237
  },
  {
  "date": "2022-12-27T01:42:22.290443Z",
  "value": 1027.80427604263
  },
  {
  "date": "2022-12-27T01:52:26.834343Z",
  "value": 1027.6811957881353
  },
  {
  "date": "2022-12-27T02:02:31.271488Z",
  "value": 1027.7544302887181
  },
  {
  "date": "2022-12-27T02:12:35.744361Z",
  "value": 1027.5380793169359
  },
  {
  "date": "2022-12-27T02:22:40.124076Z",
  "value": 1027.276208631218
  },
  {
  "date": "2022-12-27T02:32:44.480831Z",
  "value": 1027.057920835291
  },
  {
  "date": "2022-12-27T02:42:50.424734Z",
  "value": 1026.949644142039
  },
  {
  "date": "2022-12-27T02:52:54.913936Z",
  "value": 1026.7660244567812
  },
  {
  "date": "2022-12-27T03:02:59.457223Z",
  "value": 1026.6735233770692
  },
  {
  "date": "2022-12-27T03:13:03.775067Z",
  "value": 1026.5548679883648
  },
  {
  "date": "2022-12-27T03:23:08.055013Z",
  "value": 1026.4434104333864
  },
  {
  "date": "2022-12-27T03:33:12.435975Z",
  "value": 1026.3123785026557
  },
  {
  "date": "2022-12-27T03:43:17.030478Z",
  "value": 1026.3848665602338
  },
  {
  "date": "2022-12-27T03:53:21.459303Z",
  "value": 1026.3027222919443
  },
  {
  "date": "2022-12-27T04:03:26.040994Z",
  "value": 1026.1914588983018
  },
  {
  "date": "2022-12-27T04:13:30.420936Z",
  "value": 1026.098893700807
  },
  {
  "date": "2022-12-27T04:23:34.89986Z",
  "value": 1026.0733312347022
  },
  {
  "date": "2022-12-27T04:33:39.214997Z",
  "value": 1026.0258140290703
  },
  {
  "date": "2022-12-27T04:43:43.695907Z",
  "value": 1026.091961839781
  },
  {
  "date": "2022-12-27T04:53:49.302123Z",
  "value": 1025.8911659114137
  },
  {
  "date": "2022-12-27T05:03:53.649266Z",
  "value": 1025.9175629900813
  },
  {
  "date": "2022-12-27T05:13:58.024375Z",
  "value": 1025.9130144398507
  },
  {
  "date": "2022-12-27T05:24:02.356742Z",
  "value": 1025.94762606003
  },
  {
  "date": "2022-12-27T05:34:06.697997Z",
  "value": 1025.8027943751083
  },
  {
  "date": "2022-12-27T05:44:13.180313Z",
  "value": 1025.834052939564
  },
  {
  "date": "2022-12-27T05:54:17.469975Z",
  "value": 1026.0632458102154
  },
  {
  "date": "2022-12-27T06:04:21.906569Z",
  "value": 1026.0929842428013
  },
  {
  "date": "2022-12-27T06:14:26.262319Z",
  "value": 1026.2435651362157
  },
  {
  "date": "2022-12-27T06:24:30.566401Z",
  "value": 1026.3300859560293
  },
  {
  "date": "2022-12-27T06:34:35.257051Z",
  "value": 1026.4420544653858
  },
  {
  "date": "2022-12-27T06:44:39.937226Z",
  "value": 1026.6181557396035
  },
  {
  "date": "2022-12-27T06:54:44.343805Z",
  "value": 1026.602178364374
  },
  {
  "date": "2022-12-27T07:04:50.141033Z",
  "value": 1026.8774359265385
  },
  {
  "date": "2022-12-27T07:14:54.467876Z",
  "value": 1026.9468402473854
  },
  {
  "date": "2022-12-27T07:24:58.877637Z",
  "value": 1026.878715283746
  },
  {
  "date": "2022-12-27T07:35:03.12567Z",
  "value": 1026.9023624220733
  },
  {
  "date": "2022-12-27T07:45:07.426998Z",
  "value": 1026.9984996877665
  },
  {
  "date": "2022-12-27T07:55:11.693898Z",
  "value": 1027.2137212853004
  },
  {
  "date": "2022-12-27T08:05:16.102232Z",
  "value": 1027.140380502582
  },
  {
  "date": "2022-12-27T08:15:20.448594Z",
  "value": 1027.2628847019066
  },
  {
  "date": "2022-12-27T08:25:24.893357Z",
  "value": 1027.2726074486504
  },
  {
  "date": "2022-12-27T08:35:29.172011Z",
  "value": 1027.275993604518
  },
  {
  "date": "2022-12-27T08:45:33.42442Z",
  "value": 1027.328304114283
  },
  {
  "date": "2022-12-27T08:55:37.98911Z",
  "value": 1027.4656826295097
  },
  {
  "date": "2022-12-27T09:05:42.201735Z",
  "value": 1027.4420513877983
  },
  {
  "date": "2022-12-27T09:15:47.306558Z",
  "value": 1027.4493055459675
  }
  ],
  "co2": [
  {
  "date": "2022-12-26T15:07:34.054261Z",
  "value": 0
  },
  {
  "date": "2022-12-26T15:17:38.38878Z",
  "value": 0
  },
  {
  "date": "2022-12-26T15:27:42.632598Z",
  "value": 0
  },
  {
  "date": "2022-12-26T15:37:47.849345Z",
  "value": 0
  },
  {
  "date": "2022-12-26T15:47:52.070531Z",
  "value": 0
  },
  {
  "date": "2022-12-26T15:57:56.161944Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:08:00.398463Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:18:04.646463Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:28:08.770861Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:38:13.067749Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:48:17.200457Z",
  "value": 0
  },
  {
  "date": "2022-12-26T16:58:21.451563Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:08:25.578243Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:18:29.711663Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:28:33.764916Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:38:37.959056Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:48:42.330195Z",
  "value": 0
  },
  {
  "date": "2022-12-26T17:58:47.066362Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:08:51.456891Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:18:55.810968Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:29:00.184987Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:39:04.350544Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:49:08.594534Z",
  "value": 0
  },
  {
  "date": "2022-12-26T18:59:12.742438Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:09:16.969002Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:19:21.311554Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:29:25.554116Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:39:29.659051Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:49:33.877209Z",
  "value": 0
  },
  {
  "date": "2022-12-26T19:59:38.050747Z",
  "value": 0
  },
  {
  "date": "2022-12-26T20:09:42.327414Z",
  "value": 0
  },
  {
  "date": "2022-12-26T20:19:52.85614Z",
  "value": 0
  },
  {
  "date": "2022-12-26T20:29:57.204315Z",
  "value": 0
  },
  {
  "date": "2022-12-26T20:40:01.2933Z",
  "value": 0
  },
  {
  "date": "2022-12-26T20:50:05.466492Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:00:09.667854Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:10:13.957301Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:20:18.187945Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:30:22.347503Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:40:26.497795Z",
  "value": 0
  },
  {
  "date": "2022-12-26T21:50:30.837035Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:00:35.134663Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:10:39.370658Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:20:44.015655Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:30:49.407568Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:40:53.640793Z",
  "value": 0
  },
  {
  "date": "2022-12-26T22:50:58.084704Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:01:08.049774Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:11:12.486873Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:21:17.225953Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:31:21.620071Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:41:26.020172Z",
  "value": 0
  },
  {
  "date": "2022-12-26T23:51:30.339482Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:01:35.203602Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:11:39.719431Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:21:44.558564Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:31:50.250627Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:41:54.763302Z",
  "value": 0
  },
  {
  "date": "2022-12-27T00:51:59.158528Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:02:03.971169Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:12:08.26483Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:22:12.80818Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:32:17.285679Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:42:22.290443Z",
  "value": 0
  },
  {
  "date": "2022-12-27T01:52:26.834343Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:02:31.271488Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:12:35.744361Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:22:40.124076Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:32:44.480831Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:42:50.424734Z",
  "value": 0
  },
  {
  "date": "2022-12-27T02:52:54.913936Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:02:59.457223Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:13:03.775067Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:23:08.055013Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:33:12.435975Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:43:17.030478Z",
  "value": 0
  },
  {
  "date": "2022-12-27T03:53:21.459303Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:03:26.040994Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:13:30.420936Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:23:34.89986Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:33:39.214997Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:43:43.695907Z",
  "value": 0
  },
  {
  "date": "2022-12-27T04:53:49.302123Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:03:53.649266Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:13:58.024375Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:24:02.356742Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:34:06.697997Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:44:13.180313Z",
  "value": 0
  },
  {
  "date": "2022-12-27T05:54:17.469975Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:04:21.906569Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:14:26.262319Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:24:30.566401Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:34:35.257051Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:44:39.937226Z",
  "value": 0
  },
  {
  "date": "2022-12-27T06:54:44.343805Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:04:50.141033Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:14:54.467876Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:24:58.877637Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:35:03.12567Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:45:07.426998Z",
  "value": 0
  },
  {
  "date": "2022-12-27T07:55:11.693898Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:05:16.102232Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:15:20.448594Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:25:24.893357Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:35:29.172011Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:45:33.42442Z",
  "value": 0
  },
  {
  "date": "2022-12-27T08:55:37.98911Z",
  "value": 0
  },
  {
  "date": "2022-12-27T09:05:42.201735Z",
  "value": 0
  },
  {
  "date": "2022-12-27T09:15:47.306558Z",
  "value": 0
  }
  ]
  }

export const Graph = () => {
  const [weatherGraph, setWeatherGraph] = useState<WeatherGraph>();
  const [graphType, setGraphType] = useState<MetricsType>("temperature");
  const calledOnce = useRef(false);

  const fetchUpdate = async () => {
    console.log(
      `${process.env.REACT_APP_API_URL}/graph?getAll=true&pastDays=2`
    );
    const graph: WeatherGraph = await (
      await fetch(
        `${process.env.REACT_APP_API_URL}/graph?getAll=true&pastDays=1`
      )
    ).json();
    graph.temperature = convertToXY(graph.temperature as DateValue[]);
    graph.humidity = convertToXY(graph.humidity as DateValue[]);
    graph.atmosphere = convertToXY(graph.atmosphere as DateValue[]);
    graph.co2 = convertToXY(graph.co2 as DateValue[]);
    console.log(graph);
    setWeatherGraph(graph);
  };

  const convertToXY = (dvList: DateValue[]): DateValueXY[] => {
    return dvList.map((dv) => {
      return { x: dv.date, y: dv.value };
    });
  };

  useEffect(() => {
    if (calledOnce.current) return;
    calledOnce.current = true;
    fetchUpdate();
    setInterval(fetchUpdate, 60 * 1000);
    return;
  }, []);

  return (
    <Container sx={{ mt: 4 }}>
      <GraphSelector graphType={graphType} setGraphType={setGraphType} />
      {weatherGraph ? (
        <GraphView datas={weatherGraph[graphType] as DateValueXY[]} />
      ) : undefined}
    </Container>
  );
};
